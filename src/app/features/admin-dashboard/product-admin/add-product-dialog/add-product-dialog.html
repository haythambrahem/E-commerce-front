<div class="dialog-container">
  <h2 class="dialog-title">Ajouter un produit</h2>

  <div class="dialog-content">
    <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
      <div class="form-grid">
        <mat-form-field appearance="outline">
          <mat-label>Nom du produit</mat-label>
          <input id="product-name" matInput formControlName="name" placeholder="Ex : Rose rouge" />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Prix (DT)</mat-label>
          <input id="product-price" matInput type="number" formControlName="price" />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Stock</mat-label>
          <input id="product-stock" matInput type="number" formControlName="stock" />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Cat√©gorie</mat-label>
          <mat-select id="product-category" formControlName="category">
            <mat-option value="PRINTEMPS">Printemps</mat-option>
            <mat-option value="ETE">ETE</mat-option>
            <mat-option value="AUTOMNE">Automne</mat-option>
            <mat-option value="HIVER">Hiver</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Description</mat-label>
        <textarea id="product-description" matInput formControlName="description" rows="3"></textarea>
      </mat-form-field>

      <div class="upload-box">
        <label for="product-image" class="upload-label">
          <mat-icon>cloud_upload</mat-icon>
          <span *ngIf="!selectedFile">Choisir une image...</span>
          <span *ngIf="selectedFile">{{ selectedFile.name }}</span>
        </label>
        <input id="product-image" type="file" (change)="onFileSelected($event)" hidden />
      </div>

      <div class="preview" *ngIf="previewUrl">
        <img [src]="previewUrl" alt="Preview" class="preview-img" />
      </div>
    </form>
  </div>

  <div class="dialog-actions">
    <button id="btn-cancel-product" mat-stroked-button type="button" (click)="onCancel()">Annuler</button>
    <button id="btn-submit-product" mat-flat-button color="primary" (click)="onSubmit()" [disabled]="!productForm.valid">
      <mat-icon>add_circle</mat-icon> Ajouter
    </button>
  </div>
</div>
