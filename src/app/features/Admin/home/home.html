<header>
  <a routerLink="/home" class="logo">FlowerByMANEL<span>.</span></a>

  <nav class="navbar" [class.active]="menuOpen">
    <a (click)="scrollToSection('home')">Accueil</a>
    <a (click)="scrollToSection('about')">√Ä propos</a>
    <a routerLink="/products">Produits</a>
    <a (click)="scrollToSection('contact')">Contact</a>  
  </nav>

  <div class="icons">
    <a routerLink="/wishlist"><i class="fas fa-heart"></i></a>

    <!-- üõí Panier -->
    <a routerLink="/cart">
      <i class="fas fa-shopping-cart"></i>
      <span class="cart-count">{{ cartCount }}</span>
    </a>

    <!-- üë§ Utilisateur -->
    <ng-container *ngIf="authService.currentUser$ | async as user; else loginLink">
      <div
        class="user-dropdown"
        (mouseenter)="showDropdown = true"
        (mouseleave)="showDropdown = false"
      >
        <div class="user-info">
          <i class="fas fa-user-circle"></i>
          <span>{{ user.userName }}</span>
          <i class="fas fa-chevron-down dropdown-icon"></i>
        </div>

        <ul class="dropdown-menu" *ngIf="showDropdown">
          <li (click)="authService.logout()">D√©connexion</li>
        </ul>
      </div>
    </ng-container>

    <ng-template #loginLink>
      <a routerLink="/login"><i class="fas fa-user"></i></a>
    </ng-template>
  </div>

  <div class="menu-toggle" (click)="toggleMenu()">
    <span></span>
    <span></span>
    <span></span>
  </div>
</header>


<!-- üå∏ SECTION ACCUEIL -->
<section class="hero" id="home">
  <div class="hero-content">
    <span class="hero-badge">üå∑ Livraison gratuite d√®s 50dt</span>
    <h1>Des <span class="highlight">fleurs fra√Æches</span> livr√©es avec amour</h1>
    <p>
      D√©couvrez notre collection de bouquets soigneusement compos√©s pour toutes les occasions.
      Fra√Æcheur garantie et livraison express.
    </p>
    <div class="hero-buttons">
  <button class="btn" routerLink="/products">
    <i class="fas fa-shopping-bag"></i> Voir la boutique
  </button>

  <button class="btn btn-secondary" routerLink="/about">
    En savoir plus
  </button>
</div>

  </div>
  <div class="hero-image">
    <img
      src="https://mariagedefleurs.fr/wp-content/uploads/2020/11/bouquet-de-fleurs-fraiches-champetre-pastel-30-euros-gros-plan-1.jpg"
    />
  </div>
</section>

<!-- üåø SECTION √Ä PROPOS -->
<section class="features" id="about">
  <div class="section-header">
    <h2>Pourquoi choisir FlowerByMANEL ?</h2>
    <p>Une exp√©rience d'achat unique et des fleurs d'exception</p>
  </div>
  <div class="features-grid">
    <div class="feature-card">
      <div class="feature-icon">üöö</div>
      <h3>Livraison Rapide</h3>
      <p>Livraison en 24h partout en Tunisie. Express disponible.</p>
    </div>
    <div class="feature-card">
      <div class="feature-icon">üåø</div>
      <h3>Fra√Æcheur Garantie</h3>
      <p>Fleurs fra√Æches cueillies du jour. Qualit√© premium assur√©e.</p>
    </div>
    <div class="feature-card">
      <div class="feature-icon">üíù</div>
      <h3>Personnalisation</h3>
      <p>Cr√©ez votre bouquet sur mesure avec notre service personnalis√©.</p>
    </div>
    <div class="feature-card">
      <div class="feature-icon">üí≥</div>
      <h3>Paiement S√©curis√©</h3>
      <p>Transactions 100% s√©curis√©es. Plusieurs moyens de paiement.</p>
    </div>
  </div>
</section>

<!-- üåº SECTION PRODUITS -->
<!-- üåº SECTION PRODUITS - BEST-SELLERS DYNAMIQUE -->
<section class="products-preview" id="products">
  <div class="section-header">
    <h2>Nos Best-Sellers</h2>
    <p>Les bouquets pr√©f√©r√©s de nos clients</p>
  </div>

  <div class="products-grid">
    <div class="product-card" *ngFor="let product of products">
      <div class="product-image">
        <img [src]="product.imageUrl" [alt]="product.name" />
      </div>

      <div class="product-info">
        <h3>{{ product.name }}</h3>
        <p>{{ product.description }}</p>

        <div class="product-footer">
          <span class="price">{{ product.price }} DT</span>
          <button (click)="addToCart(product)" class="add-to-cart">
            <i class="fas fa-plus"></i> Ajouter
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bouton pour voir tous les produits -->
  <div class="all-products-btn">
    <button routerLink="/products" class="btn btn-secondary">
      Voir tous les produits
    </button>
  </div>
</section>


<!-- üìû SECTION CONTACT -->
<section class="contact" id="contact">
  <div class="section-header">
    <h2>Contactez-nous</h2>
    <p>Nous serons ravis de vous aider üå∏</p>
  </div>

  <div class="contact-content">
    <div class="contact-form">
      <input type="text" placeholder="Votre nom" required />
      <input type="email" placeholder="Votre email" required />
      <textarea placeholder="Votre message" rows="4"></textarea>
      <button class="btn btn-primary">Envoyer</button>
    </div>

    <div class="contact-map">
      <iframe
        src="https://www.google.com/maps?q=tunis&t=&z=13&ie=UTF8&iwloc=&output=embed"
        width="100%"
        height="300"
        style="border: 0"
        allowfullscreen
        loading="lazy"
      >
      </iframe>
    </div>
  </div>
</section>

<footer class="footer">
  <div class="footer-container">
    <div class="footer-section">
      <h4>üå∑ FlowerByMANEL</h4>
      <p>Des fleurs fra√Æches livr√©es avec amour partout en Tunisie.</p>
    </div>

    <div class="footer-section">
      <h4>Liens utiles</h4>
      <ul>
        <li><a (click)="scrollToSection('home')">Accueil</a></li>
        <li><a (click)="scrollToSection('products')">Boutique</a></li>
        <li><a (click)="scrollToSection('about')">√Ä propos</a></li>
        <li><a (click)="scrollToSection('contact')">Contact</a></li>
      </ul>
    </div>

    <div class="footer-section">
      <h4>Suivez-nous</h4>
      <div class="social-icons">
        <a href="#"><i class="fab fa-facebook"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
      </div>
    </div>
  </div>

  <div class="footer-bottom">¬© 2025 FlowerByMANEL. Tous droits r√©serv√©s.</div>
</footer>
